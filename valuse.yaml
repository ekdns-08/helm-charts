replicaCount: 3

image:
  repository: seoulbigdata-registry.ncr.gov-ntruss.com/nls-docker-elasticsearch
  tag: "7.10.2"
  pullPolicy: Always

imagePullSecrets:
  - name: regsecret

service:
  type: NodePort
  port: 9200
  nodePort: 30083

resources:
  requests:
    cpu: 100m
    memory: 1200Mi

probes:
  liveness:
    initialDelaySeconds: 30
    periodSeconds: 10
  readiness:
    initialDelaySeconds: 30
    periodSeconds: 10
  startup:
    failureThreshold: 30
    periodSeconds: 10

ingress:
  enabled: true
  annotations: 
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}]'
    alb.ingress.kubernetes.io/description: 'helm test ALB ingress controller'
    alb.ingress.kubernetes.io/load-balancer-name: 'helm-test-alb'
    alb.ingress.kubernetes.io/load-balancer-size: 'medium'
    alb.ingress.kubernetes.io/actions.elasticsearch-service: >
      {"type":"targetGroup","targetGroup":{"targetGroups":[{"serviceName":"elasticsearch-service","servicePort":9200,"weight":100}],"enableStickySession":true}}
    alb.ingress.kubernetes.io/healthcheck-path: "/"
  className: alb
  hosts:
    - host:
      paths:
        - path: /
          pathType: Prefix
          serviceName: elasticsearch-service
          servicePort: use-annotation
